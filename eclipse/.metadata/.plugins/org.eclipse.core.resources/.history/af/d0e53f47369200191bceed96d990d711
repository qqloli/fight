package com.lyy.controller;

import org.springframework.beans.factory.annotation.Autowired;

import com.lyy.dao.UserDao;
import com.lyy.pojo.User;
import com.lyy.service.AdminService;
import com.lyy.service.UserService;

public class UserAction {
    private User user;
    private Integer type;

   
	@Autowired
    private UserService userService;
	
	@Autowired
    private AdminService adminService;
    
    public String login() throws Exception{
    	
    	
        if(type==1){
        	if(adminService.login(user)){
            	return "success";
            }else{
            	return "fail";
            }
        } else{
        	if(userService.login(user)){
            	return "success";
            }else{
            	return "fail";
            }
        }
        
        
    }
    
    public String register() throws Exception{
        
         userService.register(user);
        	return "success";
        
        
    }

	public User getUser() {
		return user;
	}

	public void setUser(User user) {
		this.user = user;
	}

	 public Integer getType() {
			return type;
		}

		public void setType(Integer type) {
			this.type = type;
		}

 
    

}
