package com.lyy.dao;

import java.util.Iterator;
import java.util.List;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.lyy.pojo.User;

@Service
@Transactional
public class AdminDao {
	@Autowired
    private SessionFactory sessionFactory;
	
	
	public boolean findUser(User user){
    	boolean has = false;
    	Session session= sessionFactory.openSession();
    	List catlist = null;
    	catlist =session.createQuery("from User").list();
    	 
    	 if (catlist != null) {
    		 Iterator it= catlist.iterator();
    		 while (it.hasNext()) {
    			 User u  =(User) it.next();
    			 if(u.getName().equals(user.getName()) &&u.getPwd().equals(user.getPwd())&&1==u.getType()) {
    				 has = true;
    		 break;
    			 };
    		 has= false;
    		 }}

    		 
    		session.close();

 
       return has;
    }
}
